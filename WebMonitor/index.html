<!DOCTYPE html>
<html>
<head>
    <title>WebMonitor</title>
    <style type="text/css">
        body {
            font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
        }
        .request {
            border: 1px solid black;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre;
            display: none;
        }
        .time {
            font-size: 1.5em;
            font-weight: bold;
        }
        .content {
            font-style: italic;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Web Monitor</h1>
    <div class="help">This monitor show all [Post, Get, Put, Delete] requests to <a target="_blank"></a> or sub paths.</div>
    <div class="requests"></div>
</div>
    <script src="Scripts/jquery-2.2.1.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
    $(function() {
        var chat = $.connection.monitorHub;
        chat.client.AddRequest = function (request) {
            $('<div class="request"/>')
                .append($('<div class="time">').html(request.Time))
                .append($('<div class="info">').html(request.Info))
                .append($('<div class="content">').html(request.Content))
                .prependTo('.requests')
                .slideDown('slow');

        };
        $.connection.hub.start().done(function () {
            var link = window.location.protocol + '//' + window.location.host + '/' + $.connection.hub.id + '/';
            $('.help a').attr('href', link).html(link);
        });
    });
</script>
</body>
</html>
